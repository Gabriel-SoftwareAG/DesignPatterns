= The State Pattern

:imagesdir: ./images

== Introduction

[cols="2", frame="none", grid="none"]
|===
|Imagine you have a traffic light at an intersection. It can be in one of three states: red, yellow, or green. Each state represents a different behavior for the traffic light: red means stop, yellow means prepare to stop, and green means go.

In software design, the state pattern works similarly. It allows an object to change its behavior when its internal state changes. Just like how the behavior of the traffic light changes depending on its current state, objects in a software application can behave differently based on their current state.

|image:state_traffic_light.jpg[width=300, scale=50%]
|===

Here is another another example. let's say you're building a vending machine. It can be in different states: idle, waiting for selection, dispensing, or out of stock. Each state corresponds to a different behavior: idle means it's ready for use, waiting for selection means it's waiting for the user to make a choice, dispensing means it's giving out the selected item, and out of stock means it can't fulfill any requests.

Using the state pattern, you can encapsulate each state and its corresponding behavior in separate objects. When the state of the vending machine changes, it switches to the appropriate state object, which determines how it should behave in that state.

Overall, the state pattern provides a way to model objects that can change their behavior dynamically based on their internal state, similar to how a traffic light changes its behavior depending on its current state.